# Parser Test Cases

This directory contains Nushell commands and their corresponding AST outputs for testing our command parser implementation.

## Structure

Each test case consists of two files:
- `<test_name>.nu` - The Nushell command to be parsed
- `<test_name>_ast.json` - The AST output generated by `ast --json`

## How to Generate AST Output

For any command file, generate its AST output using:

```nushell
ast --json (open <test_name>.nu) | to json | save <test_name>_ast.json --force --raw
```

## Current Test Cases

### complex_pipeline.nu
A complex command demonstrating:
- Variable assignment (`let a = 'nutest'`)
- Nested subexpressions (`(pwd | path dirname | path join nutest)`)
- Named flags (`--all`, `--theme rounded`)
- Pipeline operations with closures
- Multiple command chaining

**Command:**
```nushell
let a = 'nutest'; ls (pwd | path dirname | path join nutest) --all | each {|i| $i.name | str upcase} | first 2 | enumerate | table --theme rounded
```

## Usage in Tests

These test cases will be used to:
1. Validate our AST parser implementation
2. Ensure we correctly extract arguments, flags, and values
3. Test type detection and classification
4. Verify our completion suggestions are accurate

## Adding New Test Cases

When adding new test cases, please:
1. Use descriptive names that indicate what the command tests
2. Include both the `.nu` and `_ast.json` files
3. Update this README with a description of what the test covers
4. Consider edge cases and different command patterns